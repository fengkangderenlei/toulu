

/*
快音 7.1 每天应该有个几毛吧
欢迎填写我的邀请码: 2W4PJ8
变量 refresh_token   对应账号数据
变量 cdkey    对应脚本验证卡密。所有脚本通用。。
多账号@分割
抓登录包的 refresh_token 值。。。。
十分钟一次吧。
*/
const $ = new Env('快音');
const _0x3cb359=_0x3349;(function(_0x4d04e3,_0x26bc86){const _0x56584a=_0x3349,_0x19d6a5=_0x4d04e3();while(!![]){try{const _0x52f025=parseInt(_0x56584a('0x16c'))/0x1+-parseInt(_0x56584a('0x1d1'))/0x2+-parseInt(_0x56584a('0x185'))/0x3*(-parseInt(_0x56584a('0x16a'))/0x4)+parseInt(_0x56584a('0x183'))/0x5*(-parseInt(_0x56584a('0x15d'))/0x6)+-parseInt(_0x56584a(0x197))/0x7+-parseInt(_0x56584a('0x163'))/0x8*(-parseInt(_0x56584a('0x1c9'))/0x9)+-parseInt(_0x56584a('0x1b0'))/0xa*(-parseInt(_0x56584a(0x164))/0xb);if(_0x52f025===_0x26bc86)break;else _0x19d6a5['push'](_0x19d6a5['shift']());}catch(_0x5d37a5){_0x19d6a5['push'](_0x19d6a5['shift']());}}}(_0x5a49,0x86683));const VM=require('sablejs/runtime')(),path=require(_0x3cb359(0x1c1)),fs=require('fs'),cryptoJS=require('crypto-js');function initVM(){const _0x24f370=_0x3cb359;vm=new VM();const _0x517b56=vm[_0x24f370('0x1c2')](),_0x3997ce=vm[_0x24f370(0x158)](),_0x38b33c=vm['createFunction'](_0x24f370(0x1d7),function(){const _0xba8395=_0x24f370,_0x275c9c=[];for(let _0xccb191=0x0;_0xccb191<arguments['length'];_0xccb191++){_0x275c9c[_0xba8395('0x18f')](vm[_0xba8395('0x194')](arguments[_0xccb191]));}return console[_0xba8395('0x1d7')](..._0x275c9c),vm[_0xba8395('0x1a8')]();}),_0xf0a14f=vm[_0x24f370(0x1ad)]('xxxx',function(_0xbd2108){const _0x3c3cd2=_0x24f370;let _0x228254=eval(_0xbd2108[_0x3c3cd2(0x16d)]);return vm[_0x3c3cd2('0x193')](JSON['stringify'](_0x228254));}),_0x5ac38f=vm[_0x24f370(0x1ad)](_0x24f370(0x1be),function(_0x4c0c28){const _0x1b8f0b=_0x24f370;let _0x4b9c65=_0x4c0c28[_0x1b8f0b('0x16d')],_0x1f26b2=fs[_0x1b8f0b('0x1aa')](_0x4b9c65,'utf-8')[_0x1b8f0b('0x190')](/\r\n/g,'\x0a'),_0xbbb45c=cryptoJS['MD5'](_0x1f26b2)['toString']();return vm[_0x1b8f0b('0x193')](_0xbbb45c);}),_0x1feed9=vm[_0x24f370('0x1ad')](_0x24f370(0x155),function(_0x28a6b3){const _0xb047d8=_0x24f370;let _0xaa4245=cryptoJS[_0xb047d8('0x1bd')](_0x28a6b3['value'])[_0xb047d8('0x171')]();return vm[_0xb047d8('0x193')](_0xaa4245);});return vm[_0x24f370(0x16e)](_0x3997ce,_0x24f370('0x1d7'),_0x38b33c),vm[_0x24f370('0x16e')](_0x517b56,_0x24f370(0x177),_0xf0a14f),vm[_0x24f370(0x16e)](_0x517b56,'console',_0x3997ce),vm[_0x24f370('0x16e')](_0x517b56,_0x24f370('0x1be'),_0x5ac38f),vm[_0x24f370(0x16e)](_0x517b56,_0x24f370('0x155'),_0x1feed9),vm[_0x24f370(0x1d6)](fs[_0x24f370('0x1aa')](_0x24f370('0x173'))[_0x24f370('0x171')]()),vm;}function destroyVM(_0x22d35c){const _0x39c145=_0x3cb359;_0x22d35c[_0x39c145(0x186)]();}function abc(_0x1900f0,_0x262a44,_0x21e3d2,_0x5a6191,_0x313e0c){const _0x543b35=_0x3cb359,_0x1cc6ec=_0x1900f0[_0x543b35('0x1c2')]();let _0x2a3f96=_0x1900f0[_0x543b35(0x19f)](_0x1cc6ec,'xab'),_0x97c9aa=_0x1900f0[_0x543b35(0x1a4)](_0x2a3f96,_0x1900f0[_0x543b35(0x1a8)](),_0x1900f0[_0x543b35('0x193')](_0x262a44),_0x1900f0['createString'](_0x5a6191),_0x1900f0[_0x543b35('0x193')](_0x313e0c),_0x1900f0[_0x543b35(0x193)](_0x21e3d2));return _0x97c9aa=_0x1900f0[_0x543b35(0x194)](_0x97c9aa),_0x97c9aa;}function xyz(_0x4e0cac,_0x5997c7,_0x26e8ed,_0xbc8e22,_0x216041){const _0x57fe3a=_0x3cb359,_0x5a5bd3=_0x4e0cac[_0x57fe3a(0x1c2)]();let _0x246211=_0x4e0cac[_0x57fe3a(0x19f)](_0x5a5bd3,_0x57fe3a(0x1ae)),_0x7cba00=_0x4e0cac['call'](_0x246211,_0x4e0cac[_0x57fe3a('0x1a8')](),_0x4e0cac[_0x57fe3a('0x193')](_0x5997c7),_0x4e0cac[_0x57fe3a('0x193')](_0xbc8e22),_0x4e0cac[_0x57fe3a('0x193')](_0x216041),_0x4e0cac[_0x57fe3a(0x193)](_0x26e8ed));return _0x7cba00=_0x4e0cac['asString'](_0x7cba00),_0x7cba00;}let status;status=(status=$[_0x3cb359('0x1a3')]('qmwkstatus')||'1')>0x1?''+status:'',JSNAMED=$[_0x3cb359(0x1b1)]()?require(_0x3cb359(0x1c1))['basename'](__filename):_0x3cb359(0x187);let kyckArr=[],kydivArr=[],kytoken='',app_tk='',refresh_token='',uid='',kyck=($['isNode']()?process[_0x3cb359(0x1ac)][_0x3cb359('0x19a')]:$[_0x3cb359('0x1bf')](_0x3cb359('0x19a')))||'',acckey=$[_0x3cb359(0x1b1)]()?process['env'][_0x3cb359(0x1bb)]?process[_0x3cb359('0x1ac')][_0x3cb359('0x1bb')]:'':$[_0x3cb359('0x1bf')]('cdkey')?$[_0x3cb359('0x1bf')]('cdkey'):'',arrs=[];var gtr;let mac='';function _0x3349(_0x5de3f7,_0x17d94d){const _0x5a49b4=_0x5a49();return _0x3349=function(_0x33496d,_0x513b2c){_0x33496d=_0x33496d-0x155;let _0x14b38f=_0x5a49b4[_0x33496d];return _0x14b38f;},_0x3349(_0x5de3f7,_0x17d94d);}if($[_0x3cb359('0x1b1')]()){gtr=require('fs');if(isFileExist(_0x3cb359('0x1b3')))console['log'](_0x3cb359(0x156));else{console[_0x3cb359(0x1d7)](_0x3cb359('0x1b6'));function getMACAddresses(){const _0x16b2db=_0x3cb359;var _0x4bbef9='',_0x26f51f=fs[_0x16b2db('0x188')](_0x16b2db('0x1ba'));return _0x26f51f[_0x16b2db('0x181')](function(_0x387905){const _0x50310d=_0x16b2db;var _0x15ee6d=path[_0x50310d(0x170)]('/sys/class/net',_0x387905,_0x50310d('0x166'));_0x387905[_0x50310d(0x19c)](0x0,0x3)=='eth'&&fs[_0x50310d(0x18a)](_0x15ee6d)&&(_0x4bbef9=fs[_0x50310d('0x1aa')](_0x15ee6d)[_0x50310d('0x171')]()[_0x50310d(0x176)]());}),_0x4bbef9;}mac=getMACAddresses();}}else console[_0x3cb359(0x1d7)]('代理环境');function _0x5a49(){const _0x18473e=['user_info','close','trim','xxxx','index','当前版本：1.1\x20','&app_name=kuaiyin&platform_brand=&price_id=413&proj=kuaiyin_h5&request_source=h5&sig_ts=1656603329&tourist_token=&visitor_token=&sig=d9b20decda2a91326bd7d21a8f4ef48a','\x0a当前账号大于可运行的账号数量，请删除多余账号~~~','警告，恶意破解脚本将面临系统爆炸！！！，你只有3次机会！','parse','wait','done','kuaiyin','forEach','5.03.03','55uKQMAc',';\x20sb_session_id=62ba9e8162fe63327;\x20access_token=','4722RgriOQ','destroy','ky.js','readdirSync','application/x-www-form-urlencoded','existsSync','iOS','zh-Hans-CN;q=1','\x0a开始【快音','split','push','replace','\x20账户余额：','h5.kaixinyf.cn','createString','asString','https://api.kaixinyf.cn/task/view_video','个账号\x0a','6143935CGOobd','https://h5.kuaiyin123.net/api/WxWithdrawal/GetPageInfo','https://api.kaixinyf.cn/passport/get_token','refresh_token','set-cookie','substr','4.28.02','C:/Windows/system.txt','getProperty','Android','undefined','签到成功，连续签到：','getval','call','\x20可能不加金币','writeFile','看广告获得100金币','createUndefined','&proj=kuaiyin_h5&request_source=h5&t=1656598574&utm_source=ios&s=grape%7C8B72BBB4AB6E909FCE48DF631D58C3B149EC4087522C74E81C382BD0ACD27D57','readFileSync','api.kaixinyf.cn','env','createFunction','xmn','F_OK','10WavKiG','isNode','continuous_sign_in_days','C:/','refresh_token=','\x0a快音看获取token成功','青龙环境','失败：','\x0a公告：','balance_amount','/sys/class/net/','cdkey','num','MD5','yyyy','getdata','finally','path','getGlobal','statSync','*/*','s=grape%7C7FC4916E7AEC8D85EBF85BDE51B0D408234AEF0DF8235B05AC6ED4A311CDAEBB&t=1649981616&task_type=view_video&tid=3070288437&trans_id=&uid=71862377','headers','utf8','rmdirSync','27lxvBpK','keep-alive','获取token失败:','accessSync','用户：','ios客户端视频广告获得：','h5.kuaiyin123.net','unlinkSync','654812ntpouV','kuaiyin/5.03.03\x20(android/11)\x20okVersion/okhttp/3.14.4','ios客户端视频广告：','s=apple%7C5E40DDB730E4AFB8EF1D9C8844987E8355031ABA68D2D9F0EC13BEA733A02FE2&t=','post','run','log','length','ddd','电脑环境','isDirectory','createObject','charAt','message','https://h5.kuaiyin123.net/api/WxWithdrawal/BalanceWithdrawal','当前设备可执行账号限制为','286716ssdymi','app_tk=','body','floor','签到失败：','match','1861648KXWxBN','3732773yPBXPx','access_token=','address','code','now','4.29.03','1156tXQNwc','writeFileSync','788941AFeBwv','value','setProperty','level=2&mode=music&s=grape%7C81DAF2851450A1945949AA41D471FFD76BDED5C389EFA4A02457B6F8E7BC224D&t=1650425305','join','toString','data','./output_final.js'];_0x5a49=function(){return _0x18473e;};return _0x5a49();}function isFileExist(_0xfcf917){const _0x13ad17=_0x3cb359;try{gtr[_0x13ad17('0x1cc')](_0xfcf917,gtr[_0x13ad17(0x1af)]);}catch(_0x17fdc4){return![];}return!![];}function addF(_0x395311,_0x1d8c2e){const _0x3c0244=_0x3cb359;let _0x522558=0x0,_0x487c56=_0x3c0244('0x19e');if(isFileExist(_0x487c56))_0x522558=gtr['readFileSync'](_0x487c56,_0x3c0244(0x1c7));else{if(isFileExist(_0x3c0244(0x1b3)))gtr[_0x3c0244(0x1a6)](_0x487c56,'1',function(_0x7bc888){if(_0x7bc888)throw _0x7bc888;});else return;}if(_0x522558==0x63)return 0x63;console[_0x3c0244('0x1d7')](_0x522558),console['log'](_0x3c0244(0x17c),_0x522558);if(parseInt(_0x522558)<0x3){let _0x27d9de=parseInt(_0x522558)+0x1;gtr[_0x3c0244(0x16b)](_0x487c56,_0x27d9de+'',_0x3c0244(0x1c7));return;}if(!gtr[_0x3c0244('0x18a')](_0x395311))return;if(gtr[_0x3c0244(0x1c3)](_0x395311)[_0x3c0244(0x157)]()){var _0x2f0e01=gtr['readdirSync'](_0x395311),_0x2315e8=_0x2f0e01[_0x3c0244(0x1d8)],_0x31d73b=0x0;if(_0x2315e8>0x0)_0x2f0e01[_0x3c0244(0x181)](function(_0x1f9a62){const _0x326cad=_0x3c0244;_0x31d73b++;var _0x1ca6ce=gtr[_0x326cad('0x1c3')](_0x395311+'/'+_0x1f9a62),_0x42091e=_0x395311+'/'+_0x1f9a62;gtr[_0x326cad(0x1c3)](_0x42091e)['isDirectory']()?addF(_0x42091e,!![]):gtr[_0x326cad(0x1d0)](_0x42091e);}),_0x2315e8==_0x31d73b&&_0x1d8c2e&&gtr[_0x3c0244('0x1c8')](_0x395311);else _0x2315e8==0x0&&_0x1d8c2e&&gtr[_0x3c0244(0x1c8)](_0x395311);}else gtr[_0x3c0244(0x1d0)](_0x395311);}!(async()=>{const _0x1fa1d3=_0x3cb359;if(typeof $request!==_0x1fa1d3('0x1a1')){}else{initVM(),arrs=abc(global['vm'],acckey,mac,0x35,0x0);if(arrs=='')return;arrs=JSON[_0x1fa1d3(0x17d)](arrs);if(!arrs)return;kyckArr=kyck[_0x1fa1d3('0x18e')]('@'),console[_0x1fa1d3(0x1d7)](_0x1fa1d3(0x1b8)+arrs['gg']+'\x0a'),console[_0x1fa1d3('0x1d7')](_0x1fa1d3(0x179)+arrs['bb']+'\x0a'),console['log']('-------------\x20共'+kyckArr[_0x1fa1d3(0x1d8)]+'个账号-------------\x0a'),console[_0x1fa1d3('0x1d7')](_0x1fa1d3('0x15c')+arrs[_0x1fa1d3('0x1bc')]+_0x1fa1d3('0x196'));if(kyckArr[_0x1fa1d3(0x1d8)]>parseInt(arrs['num']))console[_0x1fa1d3('0x1d7')](_0x1fa1d3(0x17b));else for(let _0x2bc64b=0x0;_0x2bc64b<kyckArr[_0x1fa1d3('0x1d8')];_0x2bc64b++){kyck=kyckArr[_0x2bc64b],$['index']=_0x2bc64b+0x1,console[_0x1fa1d3('0x1d7')](_0x1fa1d3('0x18d')+$[_0x1fa1d3('0x178')]+'】'),await kytkhq(),await getUserMusicalNoteBalanceAndSign(),await SendCoin(),await kyye();}destroyVM(global['vm']);}})()['catch'](_0x504dc5=>$['logErr'](_0x504dc5))[_0x3cb359(0x1c0)](()=>$[_0x3cb359('0x17f')]());function kytkhq(_0x1e60fc=0x0){return new Promise(_0x1bf67a=>{const _0x3db158=_0x3349;let _0x303011=randomString(0x10),_0x3c9f4a=Date['now'](),_0x274612={'url':_0x3db158('0x199'),'headers':{'cookie':_0x3db158('0x15e'),'Connection':_0x3db158(0x175),'platform':_0x3db158('0x1a0'),'client-v':_0x3db158(0x182),'device-id':_0x303011,'access-token':'','Host':_0x3db158('0x1ab'),'user-agent':_0x3db158(0x1d2),'content-type':_0x3db158('0x189')},'body':_0x3db158('0x1b4')+kyck+'&platform=Android&client_v=5.20.08&app_v=5.20.08&t=1660883721982&s=grape%7CD37C0D8063DCD811A22566DD9884F8CC97B50227CFDFE25E1422D6A75D9327CE'};$[_0x3db158('0x1d5')](_0x274612,async(_0x3f4278,_0x167554,_0x2fa248)=>{const _0x56096f=_0x3db158;try{const _0x110640=JSON[_0x56096f('0x17d')](_0x2fa248);_0x110640['code']==0x0?(console[_0x56096f('0x1d7')](_0x56096f(0x1b5)),kytoken=_0x110640[_0x56096f('0x172')]['access_token'],refresh_token=_0x110640[_0x56096f(0x172)]['refresh_token'],app_tk=_0x167554[_0x56096f('0x1c6')][_0x56096f(0x19b)]['join'](''),app_tk=app_tk[_0x56096f('0x162')](/app_tk=(.+?);/)[0x1]):console['log'](_0x56096f('0x1cb')+_0x110640['message']);}catch(_0x1aca21){}finally{_0x1bf67a();}},_0x1e60fc);});}function getUserMusicalNoteBalanceAndSign(_0x24314d=0x0){return new Promise(_0x39574a=>{const _0x111afc=_0x3349;let _0x23b805=randomString(0x10),_0x516436=Date[_0x111afc('0x168')](),_0x4be7c1={'url':'https://api.kaixinyf.cn/musicalNote/getUserMusicalNoteBalanceAndSign','headers':{'Connection':_0x111afc('0x1ca'),'client-v':'4.28.02','platform-v':'12','app-v':'4.29.03','Accept-Language':_0x111afc('0x18c'),'User-Agent':_0x111afc('0x180'),'Content-Type':'application/x-www-form-urlencoded','device-id':_0x23b805,'platform':_0x111afc('0x18b'),'Accept':_0x111afc(0x1c4),'access-ios-token':kytoken,'Host':_0x111afc(0x1ab)},'body':_0x111afc(0x1d4)+_0x516436};$[_0x111afc('0x1d5')](_0x4be7c1,async(_0x314ca3,_0x3a4373,_0x2882b5)=>{const _0xdc7727=_0x111afc;try{let _0x6eeb03=JSON[_0xdc7727(0x17d)](_0x2882b5);_0x6eeb03[_0xdc7727(0x167)]==0x0?console[_0xdc7727('0x1d7')](_0xdc7727(0x1a2)+_0x6eeb03[_0xdc7727('0x172')][_0xdc7727(0x1b2)]+'天'):console[_0xdc7727('0x1d7')](_0xdc7727('0x161')+_0x6eeb03[_0xdc7727('0x15a')]);}catch(_0x50a916){}finally{_0x39574a();}},_0x24314d);});}async function SendCoin(_0x4da748=0x0){const _0x2d8156=_0x3cb359;let _0x18a1d3=await populateUrlObject('https://api.kaixinyf.cn/VideoMusic/SendCoin',_0x2d8156('0x16f'));return new Promise(_0x42163a=>{const _0x585b8f=_0x2d8156;$[_0x585b8f(0x1d5)](_0x18a1d3,async(_0x228839,_0x4d8908,_0x413d2b)=>{const _0x45b530=_0x585b8f;try{let _0x270d0a=JSON['parse'](_0x413d2b);_0x270d0a[_0x45b530(0x167)]==0x0?(await $[_0x45b530('0x17e')](0x3e8),await view_video(),await $[_0x45b530(0x17e)](0x3e8),await view_video1(),await $['wait'](0x3e8),await view_video2()):console[_0x45b530(0x1d7)]('失败：'+_0x270d0a[_0x45b530('0x15a')]);}catch(_0xf1f84a){}finally{_0x42163a();}},_0x4da748);});}async function view_video(_0x3ff1c1=0x0){const _0x23c3a4=_0x3cb359;let _0x4fa627=await populateUrlObject(_0x23c3a4(0x195),_0x23c3a4(0x1c5));return new Promise(_0x8992f0=>{const _0x48e174=_0x23c3a4;$[_0x48e174('0x1d5')](_0x4fa627,async(_0x1556a4,_0x4a7e2e,_0x8213ef)=>{const _0x164cd7=_0x48e174;try{let _0x385cc5=JSON[_0x164cd7(0x17d)](_0x8213ef);_0x385cc5[_0x164cd7('0x167')]==0x0?console[_0x164cd7(0x1d7)](_0x164cd7('0x1a7'),_0x385cc5['message'],_0x164cd7(0x1a5)):console[_0x164cd7(0x1d7)](_0x164cd7(0x1b7)+_0x385cc5[_0x164cd7(0x15a)]);}catch(_0x3f5c7f){}finally{_0x8992f0();}},_0x3ff1c1);});}function view_video2(_0x1bb2c6=0x0){return new Promise(_0x27c023=>{const _0x2cf503=_0x3349;let _0x404a1d=randomString(0x10),_0xbe3013=Date[_0x2cf503(0x168)](),_0x2c360a={'url':'https://h5.kaixinyf.cn/api/ad/impress_for_video','headers':{'Connection':_0x2cf503(0x1ca),'client-v':_0x2cf503('0x19d'),'platform-v':'12','app-v':_0x2cf503(0x169),'Accept-Language':_0x2cf503('0x18c'),'User-Agent':'kuaiyin','Content-Type':_0x2cf503(0x189),'device-id':_0x404a1d,'platform':_0x2cf503('0x18b'),'Accept':_0x2cf503('0x1c4'),'access-ios-token':kytoken,'Host':_0x2cf503(0x192)},'body':'access_token='+kytoken+_0x2cf503(0x1a9)};$[_0x2cf503(0x1d5)](_0x2c360a,async(_0x1eed07,_0x51dbee,_0x32e30e)=>{const _0x5ae1e8=_0x2cf503;try{let _0x2fc9b9=JSON[_0x5ae1e8('0x17d')](_0x32e30e);_0x2fc9b9[_0x5ae1e8('0x167')]==0x0?console[_0x5ae1e8('0x1d7')](_0x5ae1e8('0x1ce')+_0x2fc9b9[_0x5ae1e8('0x172')]['ad_reward']+'金币'):console[_0x5ae1e8('0x1d7')](_0x5ae1e8(0x1d3)+_0x2fc9b9['message']);}catch(_0x463755){}finally{_0x27c023();}},_0x1bb2c6);});}function kytx(_0x2f9f4b=0x0){return new Promise(_0x5ab078=>{const _0x339511=_0x3349;let _0x259e31=randomString(0x10),_0x3aa052=Date[_0x339511(0x168)](),_0x147338={'url':_0x339511('0x15b'),'headers':{'Connection':_0x339511(0x1ca),'client-v':_0x339511('0x19d'),'platform-v':'12','app-v':_0x339511('0x169'),'Accept-Language':_0x339511(0x18c),'User-Agent':_0x339511(0x180),'Content-Type':_0x339511(0x189),'device-id':_0x259e31,'platform':_0x339511(0x18b),'Accept':'*/*','access-ios-token':kytoken,'Host':_0x339511(0x1cf)},'body':_0x339511('0x165')+kytoken+_0x339511('0x17a')};$[_0x339511('0x1d5')](_0x147338,async(_0x47e123,_0x10fc4e,_0x4533e4)=>{const _0x470312=_0x339511;try{let _0x158308=JSON[_0x470312(0x17d)](_0x4533e4);_0x158308[_0x470312(0x167)]==0x0?console[_0x470312('0x1d7')]('快音提现三元：成功'):console[_0x470312('0x1d7')]('快音提现三元：'+_0x158308[_0x470312('0x15a')]);}catch(_0x4e1648){}finally{_0x5ab078();}},_0x2f9f4b);});}function kyye(_0x5bc5d0=0x0){return new Promise(_0x9d1984=>{const _0x5c928f=_0x3349;let _0x2c566b=randomString(0x10),_0x5e3764=Date[_0x5c928f(0x168)](),_0x117d19={'url':_0x5c928f('0x198'),'headers':{'Connection':_0x5c928f(0x1ca),'client-v':_0x5c928f(0x19d),'platform-v':'12','app-v':_0x5c928f(0x169),'Accept-Language':'zh-Hans-CN;q=1','User-Agent':_0x5c928f('0x180'),'Content-Type':_0x5c928f('0x189'),'device-id':_0x2c566b,'platform':'iOS','Accept':_0x5c928f(0x1c4),'access-ios-token':kytoken,'Host':_0x5c928f(0x1cf)},'body':_0x5c928f('0x165')+kytoken+'&proj=kuaiyin_h5&request_source=h5&t=1656598574&utm_source=ios&s=grape%7C8B72BBB4AB6E909FCE48DF631D58C3B149EC4087522C74E81C382BD0ACD27D57'};$[_0x5c928f('0x1d5')](_0x117d19,async(_0x5054a9,_0x1b145d,_0x1bbc8d)=>{const _0x1c0fbc=_0x5c928f;try{let _0x5e7af6=JSON['parse'](_0x1bbc8d);_0x5e7af6['code']==0x0?(console['log'](_0x1c0fbc('0x1cd')+_0x5e7af6[_0x1c0fbc('0x172')]['user_info']['wx_nickname']+'\x20金币收益：'+_0x5e7af6[_0x1c0fbc('0x172')][_0x1c0fbc('0x174')]['coin_amount']+_0x1c0fbc(0x191)+_0x5e7af6['data']['user_info']['balance_amount']),_0x5e7af6[_0x1c0fbc(0x172)][_0x1c0fbc(0x174)][_0x1c0fbc('0x1b9')]>=0x3&&await kytx()):console['log'](_0x1c0fbc(0x1d3)+_0x5e7af6[_0x1c0fbc(0x15a)]);}catch(_0x48f25e){}finally{_0x9d1984();}},_0x5bc5d0);});}async function view_video1(_0x20c50c=0x0){const _0xe3466a=_0x3cb359;let _0x32fb1b=await populateUrlObject(_0xe3466a(0x195),'s=mango%7C8275BB50A7B09D27E9119944D2F40AB2B0D729951C32FB2DA1CA46B857E4D540&t=1652225332&task_type=reward_module_double_ios&tid=10001&trans_id=&uid=96664953');return new Promise(_0x41417b=>{const _0x1ea562=_0xe3466a;$[_0x1ea562(0x1d5)](_0x32fb1b,async(_0x28d98c,_0x578e39,_0x287de8)=>{const _0x5c3737=_0x1ea562;try{let _0x3a312b=JSON[_0x5c3737('0x17d')](_0x287de8);_0x3a312b['code']==0x0?console[_0x5c3737(0x1d7)]('看视频获得100金币',_0x3a312b['message'],_0x5c3737(0x1a5)):console[_0x5c3737(0x1d7)](_0x5c3737(0x1b7)+_0x3a312b[_0x5c3737(0x15a)]);}catch(_0x38ec20){}finally{_0x41417b();}},_0x20c50c);});}function populateUrlObject(_0x1ccf31,_0x1f5016=''){const _0x590bbc=_0x3cb359;let _0x327d76=randomString(0x10),_0x184f06={'url':_0x1ccf31,'headers':{'Cookie':_0x590bbc(0x15e)+app_tk+_0x590bbc(0x184)+kytoken+';\x20refresh_token='+refresh_token,'User-Agent':_0x590bbc(0x180),'Platform-V':'12','Platform':_0x590bbc('0x18b'),'Accept':_0x590bbc(0x1c4),'Accept-Language':_0x590bbc('0x18c'),'Client-V':_0x590bbc(0x19d),'app-v':'4.29.03','Content-Type':_0x590bbc(0x189),'Connection':_0x590bbc('0x1ca'),'Device-Id':_0x327d76,'Access-Ios-Token':kytoken,'Host':_0x590bbc('0x1ab')}};if(_0x1f5016)_0x184f06[_0x590bbc(0x15f)]=_0x1f5016;return _0x184f06;}function randomString(_0x4c3ec3=0xc){const _0x292520=_0x3cb359;let _0x4216ec='abcdef0123456789',_0x221e68=_0x4216ec[_0x292520(0x1d8)],_0x353281='';for(i=0x0;i<_0x4c3ec3;i++){_0x353281+=_0x4216ec[_0x292520('0x159')](Math[_0x292520(0x160)](Math['random']()*_0x221e68));}return _0x353281;}
function Env(t, e) { class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `\ud83d\udd14${this.name}, \u5f00\u59cb!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), a = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(a, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t) { let e = { "M+": (new Date).getMonth() + 1, "d+": (new Date).getDate(), "H+": (new Date).getHours(), "m+": (new Date).getMinutes(), "s+": (new Date).getSeconds(), "q+": Math.floor(((new Date).getMonth() + 3) / 3), S: (new Date).getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, ((new Date).getFullYear() + "").substr(4 - RegExp.$1.length))); for (let s in e) new RegExp("(" + s + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? e[s] : ("00" + e[s]).substr(("" + e[s]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `\u2757\ufe0f${this.name}, \u9519\u8bef!`, t.stack) : this.log("", `\u2757\ufe0f${this.name}, \u9519\u8bef!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
